<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        tasmotaæ¥å…¥thingsboard - undefined
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>

    









<meta name="generator" content="Hexo 7.1.1"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Still lonely, still waiting... </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar radius">
            <img src="/img/favicon.jpg" />
        </div>
        <div class="name">
            <i>yi</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>
            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>COLLECT</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>SEARCH</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%B6%E6%9E%84"><span class="toc-text">æ¶æ„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B"><span class="toc-text">å®‰è£…æµç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-text">å‰æœŸå‡†å¤‡å·¥ä½œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5-MyGetway-%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2"><span class="toc-text">å¯¼å…¥ MyGetway ç®¡ç†é¡µé¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Gateway-%E5%92%8C-mosquitto"><span class="toc-text">å®‰è£… Gateway å’Œ mosquitto</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Add-mapping-%EF%BC%88%E8%A7%A3%E7%A0%81%E4%BF%A1%E6%81%AF%EF%BC%89"><span class="toc-text">Add mapping ï¼ˆè§£ç ä¿¡æ¯ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Requests-mapping-%EF%BC%88%E5%8F%91%E9%80%81%E6%8E%A7%E5%88%B6%E6%8C%87%E4%BB%A4%EF%BC%89"><span class="toc-text">Requests mapping ï¼ˆå‘é€æ§åˆ¶æŒ‡ä»¤ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tasmota-%E8%81%94%E7%BD%91-%E8%AE%BE%E7%BD%AEmqtt%E5%8F%82%E6%95%B0"><span class="toc-text">tasmota è”ç½‘ è®¾ç½®mqttå‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#thingsboard-%E7%95%8C%E9%9D%A2%E6%98%BE%E7%A4%BA%E5%92%8C%E6%8C%89%E9%92%AE%E5%8F%91%E9%80%81%E6%8E%A7%E5%88%B6%E6%8C%87%E4%BB%A4"><span class="toc-text">thingsboard ç•Œé¢æ˜¾ç¤ºå’ŒæŒ‰é’®å‘é€æ§åˆ¶æŒ‡ä»¤</span></a></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> Still lonely, still waiting... </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        tasmotaæ¥å…¥thingsboard
    </div>

    <div class="post-meta">
        <span class="attr">Postï¼š<span>2025-09-03 22:22:42</span></span>
        
        <span class="attr">Tagsï¼š/
        
        <a class="tag" href="/tags/#IoT thingsboard tasmota" title="IoT thingsboard tasmota">IoT thingsboard tasmota</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">Visitï¼š<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h2 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h2><p>å‚è€ƒé“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://thingsboard.io/docs/iot-gateway/what-is-iot-gateway/">https://thingsboard.io/docs/iot-gateway/what-is-iot-gateway/</a></p>
<p>æƒ³è¦å°†tasmotaæ¥å…¥thingsboardéœ€è¦ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p>
<p>tasmota -&gt; mqtt broker -&gt; IoT Gateway -&gt; thingsboard </p>
<h2 id="å®‰è£…æµç¨‹"><a href="#å®‰è£…æµç¨‹" class="headerlink" title="å®‰è£…æµç¨‹"></a>å®‰è£…æµç¨‹</h2><p>ä¸»è¦å‚è€ƒå®˜ç½‘æ•™ç¨‹ï¼š<a target="_blank" rel="noopener" href="https://thingsboard.io/docs/iot-gateway/getting-started/">https://thingsboard.io/docs/iot-gateway/getting-started/</a></p>
<h3 id="å‰æœŸå‡†å¤‡å·¥ä½œ"><a href="#å‰æœŸå‡†å¤‡å·¥ä½œ" class="headerlink" title="å‰æœŸå‡†å¤‡å·¥ä½œ"></a>å‰æœŸå‡†å¤‡å·¥ä½œ</h3><p>å®‰è£… Docker</p>
<p>å®‰è£… thingsboard</p>
<h3 id="å¯¼å…¥-MyGetway-ç®¡ç†é¡µé¢"><a href="#å¯¼å…¥-MyGetway-ç®¡ç†é¡µé¢" class="headerlink" title="å¯¼å…¥ MyGetway ç®¡ç†é¡µé¢"></a>å¯¼å…¥ MyGetway ç®¡ç†é¡µé¢</h3><p>æ•™ç¨‹ <code>Prerequisites</code> å°èŠ‚ä¸‹è½½ä¸¤ä¸ª jsonæ–‡ä»¶ï¼Œå¹¶æŒ‰ç…§ <a target="_blank" rel="noopener" href="https://thingsboard.io/docs/iot-gateway/getting-started/#optional-import-gateway-widgets-bundle-and-dashboard">Import gateway widgets bundle and dashboard</a> å¯¼å…¥ thingsboardã€‚</p>
<p>æŒ‰ç…§æ•™ç¨‹åœ¨ Dashboards ä¸­åˆ›å»º  MyGateway å¹¶è¿›å…¥è¯¦æƒ…é¡µï¼Œç‚¹å‡» Launch command æŒ‰é’®ã€‚</p>
<img src="image-20250902215700716.png" alt="image-20250902215700716" style="zoom:50%;" />

<img src="image-20250902215824743.png" alt="image-20250902215824743" style="zoom:80%;" />

<p>å¦‚æœä½ å’Œæˆ‘ä¸€æ ·æ²¡æœ‰å†…å®¹ï¼Œä¸è¦ç€æ€¥æ¢ä¸ªåœ°æ–¹æ‰“å¼€ï¼šEntities&#x2F;Gateways&#x2F;My Gateway&#x2F;Launch command</p>
<h3 id="å®‰è£…-Gateway-å’Œ-mosquitto"><a href="#å®‰è£…-Gateway-å’Œ-mosquitto" class="headerlink" title="å®‰è£… Gateway å’Œ mosquitto"></a>å®‰è£… Gateway å’Œ mosquitto</h3><p>ç»§ç»­æŒ‰ç…§æ•™ç¨‹é€šè¿‡ docker å®‰è£… tb-gateway</p>
<p><code>Step 3. Add new connector</code> ä¸­æˆ‘ä»¬é€‰æ‹© MQTT è¿æ¥æ–¹å¼ã€‚é€šè¿‡dockerå®‰è£…mosquitto ï¼ˆå®‰è£…å¥½çš„ mosquitto ä¸ç”¨è´¦å·å¯†ç éªŒè¯ï¼‰</p>
<p><code>Setup connector</code> å°èŠ‚ä¸­ Host å¡«å†™ä¸»æœºçš„å…¬ç½‘IPæˆ–è€… <code>127.0.0.1</code>ï¼› Port å¡«å†™ 1884ï¼Œå› ä¸º1883è¢« thingsboard å ç”¨äº†ï¼Œæ‰€ä»¥å®‰è£… mosquitto çš„dockeræŒ‡ä»¤ä½¿ç”¨çš„æ˜¯ <code>docker run -it -p 1884:1884 thingsboard/tb-gw-mqtt-broker:latest</code>ã€‚</p>
<p>ç»§ç»­æŒ‰ç…§æ•™ç¨‹æ“ä½œ</p>
<h3 id="Add-mapping-ï¼ˆè§£ç ä¿¡æ¯ï¼‰"><a href="#Add-mapping-ï¼ˆè§£ç ä¿¡æ¯ï¼‰" class="headerlink" title="Add mapping ï¼ˆè§£ç ä¿¡æ¯ï¼‰"></a>Add mapping ï¼ˆè§£ç ä¿¡æ¯ï¼‰</h3><p>è§£ç  tasmota é€šè¿‡mqtt æ¶ˆæ¯å‘é€åˆ° mosquitto çš„æ¶ˆæ¯ã€‚</p>
<img src="image-20250902222537779.png" alt="image-20250902222537779" style="zoom:50%;" />

<p>ç°å–å…¶ä¸­éƒ¨åˆ†ä½œä»¥è¯´æ˜ï¼š</p>
<img src="image-20250902222832240.png" alt="image-20250902222832240" style="zoom:50%;" />

<p>tele&#x2F;+&#x2F;STATE: + æ˜¯è®¾å¤‡åæ­¤éƒ¨åˆ†æ˜¯å¯å˜çš„</p>
<p>Nameï¼š è®¾å¤‡åç§°ï¼Œæ˜¯ä» Topic ä¸­é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼ <code>(?&lt;=tele/)(.*?)(?=/STATE)</code> å–å‡ºæ¥çš„ã€‚ä¾‹å¦‚ä¸»é¢˜æ˜¯ï¼štele&#x2F;tasmota_0BF5D0&#x2F;STATE ï¼Œç»è¿‡æ­£åˆ™è¡¨è¾¾å¼å–å‡ºè®¾å¤‡åç§° tasmota_0BF5D0ã€‚</p>
<p>Attributes:  è§£ç å±æ€§ï¼ˆä¸ç»å¸¸å˜çš„ï¼‰ï¼Œè§£ç é€»è¾‘å‚è€ƒé¡µé¢å†…éƒ¨çš„å¸®åŠ©æ–‡æ¡£ã€‚</p>
<p>Time seriesï¼šæ—¶é—´åºåˆ—ï¼ˆç»å¸¸å‘ç”Ÿå˜åŒ–çš„ï¼‰</p>
<img src="image-20250902223327548.png" alt="image-20250902223327548" style="zoom:50%;" />

<h3 id="Requests-mapping-ï¼ˆå‘é€æ§åˆ¶æŒ‡ä»¤ï¼‰"><a href="#Requests-mapping-ï¼ˆå‘é€æ§åˆ¶æŒ‡ä»¤ï¼‰" class="headerlink" title="Requests mapping ï¼ˆå‘é€æ§åˆ¶æŒ‡ä»¤ï¼‰"></a>Requests mapping ï¼ˆå‘é€æ§åˆ¶æŒ‡ä»¤ï¼‰</h3><img src="image-20250902223654940.png" alt="image-20250902223654940" style="zoom:50%;" />

<p>å¯ä»¥åœ¨ğŸ”’ä¸­æµ‹è¯•æ§åˆ¶æŒ‡ä»¤ï¼Œå»ºè®®ä½¿ç”¨ç±»ä¼¼ MQTT-Explorer è¿™ç§è°ƒè¯•è½¯ä»¶è§‚å¯ŸæŒ‡ä»¤å‘é€å’Œå“åº”æƒ…å†µã€‚</p>
<img src="image-20250902223818723.png" alt="image-20250902223818723" style="zoom:50%;" />

<p>Power1 æŒ‡çš„æ˜¯ tasmota è®¾ç½®ä¸º Relay 1 çš„å¼•è„šã€‚RPC command å‘å¯¹åº”çš„ä¸»é¢˜å‘é€æ¶ˆæ¯ã€‚</p>
<h3 id="tasmota-è”ç½‘-è®¾ç½®mqttå‚æ•°"><a href="#tasmota-è”ç½‘-è®¾ç½®mqttå‚æ•°" class="headerlink" title="tasmota è”ç½‘ è®¾ç½®mqttå‚æ•°"></a>tasmota è”ç½‘ è®¾ç½®mqttå‚æ•°</h3><p>tasmota è®¾ç½®å®Œæˆåï¼Œä½¿ç”¨ MQTT-Explorer è¿æ¥åˆ° mosquittoï¼Œè§‚å¯Ÿæ˜¯å¦æˆåŠŸä¸ŠæŠ¥ä¸»é¢˜ã€‚</p>
<p>å†ä» thingsboard èœå• Entities&#x2F;Devices æŸ¥çœ‹æ˜¯å¦æœ‰è‡ªåŠ¨æ·»åŠ çš„è®¾å¤‡ã€‚ç‚¹å‡»è®¾å¤‡ï¼Œå¦‚ tasmota_0BF5D0 æŸ¥çœ‹ Attributes é¡µï¼Œæ£€æŸ¥æ•°æ®è§£ææ˜¯å¦æ­£å¸¸ã€‚</p>
<p><img src="/2025/09/03/tasmota%E6%8E%A5%E5%85%A5thingsboard/image-20250902225143340.png" alt="image-20250902225143340"></p>
<h3 id="thingsboard-ç•Œé¢æ˜¾ç¤ºå’ŒæŒ‰é’®å‘é€æ§åˆ¶æŒ‡ä»¤"><a href="#thingsboard-ç•Œé¢æ˜¾ç¤ºå’ŒæŒ‰é’®å‘é€æ§åˆ¶æŒ‡ä»¤" class="headerlink" title="thingsboard ç•Œé¢æ˜¾ç¤ºå’ŒæŒ‰é’®å‘é€æ§åˆ¶æŒ‡ä»¤"></a>thingsboard ç•Œé¢æ˜¾ç¤ºå’ŒæŒ‰é’®å‘é€æ§åˆ¶æŒ‡ä»¤</h3><p>ä½¿ç”¨ Attributes card æ˜¾ç¤ºçŠ¶æ€ï¼ŒåˆæœŸæµ‹è¯• Type è¯·é€‰æ‹© Deviceï¼Œåé¢è®¾ç½®å¤šäº†éœ€è¦åšæˆç±»ä¼¼æ¨¡æ¿çš„æ—¶å€™å†é€‰æ‹© Entityã€‚</p>
<p><img src="/2025/09/03/tasmota%E6%8E%A5%E5%85%A5thingsboard/image-20250902225610092.png" alt="image-20250902225610092"></p>
<p>ä½¿ç”¨ RPC Button å‘é€æ§åˆ¶æŒ‡ä»¤</p>
<p>çº¢è‰²ç®­å¤´çš„åœ°æ–¹ä»»æ„ï¼Œåªå½±å“æŒ‰é’®æ˜¾ç¤ºæ–‡æœ¬</p>
<img src="image-20250902225855402.png" alt="image-20250902225855402" style="zoom:50%;" />

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        <li>
            <a target="_blank" href="https://twitter.com/yyii_site">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-twitter"></i>
                            </span>
            </a>
        </li>
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/yyii-site">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href="mailto:yyii.site@gmail.com">Email</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






</html>
